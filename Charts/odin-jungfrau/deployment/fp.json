[
  {
    "plugin": {
      "load": {
        "index": "jungfrau",
        "name": "JungfrauProcessPlugin",
        "library": "/odin/lib/libJungfrauProcessPlugin.so"
      }
    }
  },
  {
    "plugin": {
      "load": {
        "index": "offset",
        "name": "OffsetAdjustmentPlugin",
        "library": "/odin/lib/libOffsetAdjustmentPlugin.so"
      }
    }
  },
  {
    "plugin": {
      "load": {
        "index": "param",
        "name": "ParameterAdjustmentPlugin",
        "library": "/odin/lib/libParameterAdjustmentPlugin.so"
      }
    }
  },
  {
    "plugin": {
      "load": {
        "index": "hdf",
        "name": "FileWriterPlugin",
        "library": "/odin/lib/libHdf5Plugin.so"
      }
    }
  },
  {
    "plugin": {
      "connect": {
        "index": "offset",
        "connection": "jungfrau"
      }
    }
  },
  {
    "plugin": {
      "connect": {
        "index": "param",
        "connection": "offset"
      }
    }
  },
  {
    "plugin": {
      "connect": {
        "index": "hdf",
        "connection": "param"
      }
    }
  },
  {
    "hdf": {
      "dataset": {
        "compressed_size": {
          "datatype": "uint32",
          "chunks": [1000]
        }
      }
    }
  },
  {
    "hdf": {
      "dataset": {
        "uid": {
          "datatype": "uint64",
          "chunks": [1000]
        }
      }
    }
  },
  {
    "param": {
      "parameter": {
        "uid": {
          "adjustment": 1
        }
      }
    }
  },
  {
    "hdf": {
      "process": {
        "number": {{ .odinDataCount }},
        "rank": {{ .idx }}
      }
    }
  },
  {
    "hdf": {
      "file": {
        "flush_error_duration": 10000,
        "write_error_duration": 10000,
        "close_error_duration": 10000,
        "create_error_duration": 10000
      }
    }
  },
  {
    "hdf": {
      "file": {
        "first_number": 1
      }
    }
  },
  {
    "hdf": {
      "dataset": {
        "data": {
          "indexes": true
        }
      }
    }
  },
  {
    "hdf": {
      "dataset": {
        "data": {
          "dims": [{{ .Values.sensorSizeY }}, {{ .Values.sensorSizeX }}],
          "chunks": [1, {{ .Values.sensorSizeY }}, {{ .Values.sensorSizeX }}]
        }
      }
    }
  },
  {
    "jungfrau": {
      "endpoint": {{ .Values.endpoint }}:{{ add 8000 .idx }}
    }
  }
]
